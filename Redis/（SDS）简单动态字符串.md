**使用地方：redis的key、字符串。**

```c++
	struct sdshdr{
        //记录buf数组中已使用字节的数量
        //等于SDS所保存字符串的长度
        int len;
        //记录buf数组中未使用字节的数量
        int free;
        //字节数组，用于保存字符串
        char buf[];
    }
```

![SDS示例](../image/SDS示例.png)

- free属性的值为0，表示这个SDS没有分配任何未使用的空间。
- len属性的值为5，表示这个SDS保存了一个五字节长的字符串。
- buf属性是一个char类型的数组，数组的前五个字节分别保存了五个字符，而最后一个字符则保存了空字符'\0'。

与C字符串相比：

- - 获取一个SDS长度的复杂度仅为O（1）.
  - 杜绝了缓冲区溢出。（C++使用strcat()函数前未分配足够内存会溢出）
  - 二进制安全。（使用len属性的值而不是空字符来判断字符串是否结束）。
  - 修改字符串长度N次最多需要执行N次内存重分配（把长度缩短后只修改len和free即可）
  - 兼容部分C字符串函数。